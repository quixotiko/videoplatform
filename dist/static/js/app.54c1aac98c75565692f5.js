webpackJsonp([1],{"+Kp7":function(t,e){},"/KFM":function(t,e){},0:function(t,e,i){i("j1ja"),t.exports=i("NHnr")},"14gB":function(t,e){},"2h3q":function(t,e){},"3k4r":function(t,e){},4061:function(t,e){},AuIS:function(t,e){},CZKh:function(t,e){},Iwh8:function(t,e){},KSHT:function(t,e){},LnHB:function(t,e,i){t.exports=i.p+"static/img/default-avatar.8fc65e2.jpeg"},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});i("j1ja");var a=i("7+uW"),o=i("mvHQ"),n=i.n(o),s=i("NYxO"),r={data:function(){return{tags:[{routeName:"home",tagName:"首页"},{routeName:"hot",tagName:"热门"},{routeName:"category",tagName:"分类"},{routeName:"movie",tagName:"电影"}],un:"",psw:"",loginPageShow:!1,regisPageShow:!1,userStatus:!1,nickName:"",searchQuery:"",wrong:!1}},computed:{userName:function(){return this.un},password:function(){return this.psw}},watch:{psw:function(){this.wrong=!1}},methods:{loginPagePopUp:function(){this.loginPageShow=!0,this.$store.dispatch("home/getBlurred")},loginPageHide:function(){this.loginPageShow=!1,this.$store.dispatch("home/getClear")},regisPagePopUp:function(){this.regisPageShow=!0,this.$store.dispatch("home/getBlurred")},regisPageHide:function(){this.regisPageShow=!1,this.$store.dispatch("home/getClear")},handleRegisClick:function(){var t=this.userName,e=this.password;this.regisPageHide(),this.loginPagePopUp(),this.$store.dispatch("userdatabase/regisButtonClick",{name:t,psw:e}),this.wrong=!1},handleLoginClick:function(){var t=this.userName,e=this.password;window.localStorage.getItem("userMsg")?(this.$store.dispatch("userdatabase/loginButtonClick",{name:t,psw:e}),JSON.parse(window.localStorage.getItem("userMsg")).loginSucceed?(this.loginPageHide(),this.userStatus=!0,this.nickName=JSON.parse(window.localStorage.getItem("userMsg")).currentUser):this.wrong=!0):this.wrong=!0},logout:function(){var t=JSON.parse(window.localStorage.getItem("userMsg"));t.currentUser="",t.loginSucceed=!1,window.localStorage.setItem("userMsg",n()(t)),this.userStatus=!1,this.$store.dispatch("userdatabase/logout")},search:function(){var t=this.searchQuery;this.$store.dispatch("search/fetchData",{q:t}),this.$router.push({name:"search",params:{q:this.searchQuery}})}},created:function(){if(window.localStorage.getItem("userMsg")){var t=JSON.parse(window.localStorage.getItem("userMsg"));this.userStatus=t.loginSucceed,this.nickName=t.currentUser}}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"index-wrapper"},[a("ul",[a("router-link",{attrs:{to:{name:"home",params:{}},exact:"",tag:"li"}},[a("a",{attrs:{href:"#"}},[a("span",{staticClass:"icon-home"}),a("span",[t._v("首页")])])]),t._v(" "),a("router-link",{attrs:{to:{name:"hot",params:{}},tag:"li"}},[a("a",{attrs:{href:"#"}},[a("span",{staticClass:"icon-fire"}),a("span",[t._v("热门")])])]),t._v(" "),a("router-link",{attrs:{to:{name:"category",params:{}},tag:"li"}},[a("a",{attrs:{href:"#"}},[a("span",{staticClass:"icon-list"}),a("span",[t._v("分类")])])]),t._v(" "),a("router-link",{attrs:{to:{name:"movie",params:{}},tag:"li"}},[a("a",{attrs:{href:"#"}},[a("span",{staticClass:"icon-earth"}),a("span",[t._v("电影")])])])],1),t._v(" "),a("div",{staticClass:"search"},[a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchQuery,expression:"searchQuery"}],attrs:{type:"text",name:"search",placeholder:"搜索你喜欢的视频"},domProps:{value:t.searchQuery},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(e)},input:function(e){e.target.composing||(t.searchQuery=e.target.value)}}}),t._v(" "),a("span",{staticClass:"icon-search"})])]),t._v(" "),t.userStatus?t._e():a("div",{staticClass:"user-not-login"},[a("div",{staticClass:"login-button",on:{click:t.loginPagePopUp}},[a("span",{staticClass:"icon-happy"},[t._v("登录")])]),t._v(" "),a("div",{staticClass:"regis-button",on:{click:t.regisPagePopUp}},[a("span",{staticClass:"icon-circle-right"},[t._v("注册")])])]),t._v(" "),t.userStatus?a("div",{staticClass:"user-login"},[a("div",{staticClass:"user-avatar"},[a("router-link",{attrs:{to:{name:"userpage"}}},[a("img",{attrs:{src:i("LnHB"),alt:"image"}})]),t._v(" "),a("span",[t._v(t._s(this.nickName)+"，欢迎回来")])],1)]):t._e(),t._v(" "),t.userStatus?a("div",{staticClass:"logout",on:{click:t.logout}},[a("span",[t._v("退出")])]):t._e(),t._v(" "),a("transition",[t.loginPageShow?a("div",{staticClass:"login-page"},[a("div",{staticClass:"login-box"},[a("form",[a("div",{staticClass:"user-name"},[a("label",{attrs:{for:"userName"}},[a("span",{staticClass:"icon-happy"}),t._v("用户名")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.un,expression:"un"}],attrs:{type:"text",name:"userName"},domProps:{value:t.un},on:{input:function(e){e.target.composing||(t.un=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"password"},[a("label",{attrs:{for:"psw"}},[a("span",{staticClass:"icon-file-text"}),t._v("密    码")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.psw,expression:"psw"}],attrs:{type:"text",name:"psw"},domProps:{value:t.psw},on:{input:function(e){e.target.composing||(t.psw=e.target.value)}}}),t._v(" "),t.wrong?a("span",{staticClass:"icon-cross"}):t._e()]),t._v(" "),a("div",[a("button",{attrs:{type:"button",name:"login"},on:{click:t.handleLoginClick}},[t._v("登录")]),t._v(" "),a("button",{attrs:{type:"button",name:"loginPageHide"},on:{click:t.loginPageHide}},[t._v("游客")])])])])]):t._e()]),t._v(" "),a("transition",[t.regisPageShow?a("div",{staticClass:"regis-page"},[a("div",{staticClass:"regis-box"},[a("form",[a("div",{staticClass:"user-name"},[a("label",{attrs:{for:"userName"}},[a("span",{staticClass:"icon-happy"}),t._v("用户名")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.un,expression:"un"}],attrs:{type:"text",name:"userName"},domProps:{value:t.un},on:{input:function(e){e.target.composing||(t.un=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"password"},[a("label",{attrs:{for:"psw"}},[a("span",{staticClass:"icon-file-text"}),t._v("密    码")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.psw,expression:"psw"}],attrs:{type:"text",name:"psw"},domProps:{value:t.psw},on:{input:function(e){e.target.composing||(t.psw=e.target.value)}}})]),t._v(" "),a("div",[a("button",{attrs:{type:"button",name:"login"},on:{click:t.handleRegisClick}},[t._v("注册")]),t._v(" "),a("button",{attrs:{type:"button",name:"loginPageHide"},on:{click:t.regisPageHide}},[t._v("游客")])])])])]):t._e()])],1)])},staticRenderFns:[]};var d={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"index-footer-container"})},staticRenderFns:[]};var l={methods:{scrollToTop:function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}}},u={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container"},[e("span",{staticClass:"icon-rocket",on:{click:this.scrollToTop}})])},staticRenderFns:[]};var v={components:{IndexHeader:i("VU/8")(r,c,!1,function(t){i("/KFM")},"data-v-1d0e7e72",null).exports,IndexFooter:i("VU/8")({data:function(){return{}}},d,!1,function(t){i("3k4r")},"data-v-d8766ea0",null).exports,ScrollUp:i("VU/8")(l,u,!1,function(t){i("2h3q")},"data-v-56a8b414",null).exports}},p={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("index-header"),this._v(" "),e("keep-alive",[e("router-view")],1),this._v(" "),e("scroll-up"),this._v(" "),e("index-footer")],1)},staticRenderFns:[]};var h=i("VU/8")(v,p,!1,function(t){i("pkad")},null,null).exports,g=i("/ocq"),f=i("Dd8w"),m=i.n(f),_=i("mtWM"),C=i.n(_),y={props:{videoForSlider:{type:Object,default:function(){return{}}}},data:function(){return{sliderOnIndex:0,stop:null,dotOnIndex:0}},computed:{classObjectOne:function(){return{"icon-circle-right":0!==this.dotOnIndex,"icon-happy":0===this.dotOnIndex}},classObjectTwo:function(){return{"icon-circle-right":1!==this.dotOnIndex,"icon-happy":1===this.dotOnIndex}},classObjectThree:function(){return{"icon-circle-right":2!==this.dotOnIndex,"icon-happy":2===this.dotOnIndex}},classObjectFour:function(){return{"icon-circle-right":3!==this.dotOnIndex,"icon-happy":3===this.dotOnIndex}}},methods:{nextSlider:function(){this.sliderOnIndex++,this.dotOnIndex++,this.sliderOnIndex===this.videoForSlider.videoList.length&&(this.sliderOnIndex=0,this.dotOnIndex=0)},sliderLoop:function(){this.stop=setInterval(this.nextSlider,6e3)},stopSlider:function(){clearInterval(this.stop)}},mounted:function(){this.sliderLoop()}},w={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.videoForSlider.videoList?i("div",{staticClass:"container"},[i("router-link",{attrs:{to:{name:"videopage",params:{vid:t.videoForSlider.videoList[t.sliderOnIndex].data.id}}}},[i("transition-group",{attrs:{tag:"div"}},[t._l(t.videoForSlider.videoList,function(e,a){return a===t.sliderOnIndex?i("img",{key:e.data.id,attrs:{src:e.data.cover.feed,alt:"imageForSlider"},on:{mouseover:t.stopSlider,mouseleave:t.sliderLoop}}):t._e()}),t._v(" "),t._l(t.videoForSlider.videoList,function(e,a){return a===t.sliderOnIndex?i("div",{key:e.id,staticClass:"desciption"},[i("div",{staticClass:"title-slogan"},[i("span",{staticClass:"title"},[t._v(t._s(e.data.title))]),t._v(" "),i("span",{staticClass:"slogan"},[t._v(t._s(e.data.slogan))])]),t._v(" "),i("span",{staticClass:"tag"},[t._v("#"+t._s(e.data.category))])]):t._e()})],2)],1),t._v(" "),i("div",{staticClass:"dots"},[i("span",{class:t.classObjectOne,on:{click:function(e){t.sliderOnIndex=0,t.dotOnIndex=0}}}),t._v(" "),i("span",{class:t.classObjectTwo,on:{click:function(e){t.sliderOnIndex=1,t.dotOnIndex=1}}}),t._v(" "),i("span",{class:t.classObjectThree,on:{click:function(e){t.sliderOnIndex=2,t.dotOnIndex=2}}}),t._v(" "),i("span",{class:t.classObjectFour,on:{click:function(e){t.sliderOnIndex=3,t.dotOnIndex=3}}})])],1):t._e()},staticRenderFns:[]};var S=i("VU/8")(y,w,!1,function(t){i("lH4u")},"data-v-11627ab0",null).exports,k={props:{video:{type:Object,default:function(){return{}}}},data:function(){return{styleObject:{background:"url("+this.video.coverForFeed+") no-repeat","background-size":"cover"}}}},b={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("router-link",{attrs:{to:{name:"videopage",params:{vid:t.video.id}},tag:"div"}},[i("div",{staticClass:"video-item-container"},[i("div",{staticClass:"image-box",style:t.styleObject}),t._v(" "),i("div",{staticClass:"description"},[t._v("\n        "+t._s(t.video.title)+"\n      ")]),t._v(" "),i("div",{staticClass:"info"},[i("span",{staticClass:"collectionCount"},[i("span",{staticClass:"icon-heart"}),t._v(t._s(t.video.consumption.collectionCount))]),t._v(" "),i("span",{staticClass:"replyCount"},[i("span",{staticClass:"icon-file-text"}),t._v(t._s(t.video.consumption.replyCount))])])])])},staticRenderFns:[]};var L=i("VU/8")(k,b,!1,function(t){i("CZKh")},"data-v-1b6f6750",null).exports,x={props:{video:{type:Object,default:function(){return{}}}},data:function(){return{styleObject:{background:"url("+this.video.data.cover.feed+") no-repeat","background-size":"cover"}}},computed:{}},I={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("router-link",{attrs:{to:{name:"videopage",params:{vid:t.video.data.id}},tag:"div"}},[i("div",{staticClass:"video-item-container"},[t.video.data.cover.feed?i("div",{staticClass:"image-box",style:t.styleObject}):t._e(),t._v(" "),i("div",{staticClass:"description"},[t._v("\n        "+t._s(t.video.data.title)+"\n      ")]),t._v(" "),i("div",{staticClass:"info"},[i("span",{staticClass:"collectionCount"},[i("span",{staticClass:"icon-heart"}),t._v(" "+t._s(t.video.data.consumption.collectionCount))]),t._v(" "),i("span",{staticClass:"replyCount"},[i("span",{staticClass:"icon-file-text"}),t._v(" "+t._s(t.video.data.consumption.replyCount))])])])])},staticRenderFns:[]};var O=i("VU/8")(x,I,!1,function(t){i("fpS1")},"data-v-71a51148",null).exports,F={props:{vcwc:{type:Array,default:function(){return[]}}},data:function(){return{}},computed:{background:function(){return{background:"url("+this.vcwc[0].data.header.cover+") no-repeat","background-size":"contain"}}}},V={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"video-cover-container"},[e("div",{staticClass:"cover",style:this.background})])},staticRenderFns:[]};var P=i("VU/8")(F,V,!1,function(t){i("k/jh")},"data-v-70383d2e",null).exports,U={props:{iconList:{type:Array,default:function(){return[]}}},data:function(){return{}}},$={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"icon-list-container"},this._l(this.iconList,function(t,i){return e("img",{attrs:{src:t,alt:""}})}),0)},staticRenderFns:[]};var N=i("VU/8")(U,$,!1,function(t){i("14gB")},"data-v-e93db8de",null).exports,T={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container"},[e("div",{staticClass:"loading"})])}]};var M=i("VU/8")({data:function(){return{}}},T,!1,function(t){i("gWMx")},"data-v-7f87ae95",null).exports,R={name:"home",components:{Slider:S,VideoList:L,VideoItem:O,VideoCover:P,IconList:N,Loading:M},data:function(){return{content:"",videoItemComponent:"VideoItem"}},computed:m()({},Object(s.b)("home",{vfs:"videoForSlider",vfh:"videoForHome",vcof:"videoCollectionOfFollow",vcwc:"videoCollectionWithCover",vft_1:"videoForToday_1",vft_2:"videoForToday_2",homeIsLoading:"homeIsLoading",tags:"videoTags",tagVideo:"vTagVideo"}),{styleObject:function(){return this.$store.state.home.styleObject}}),methods:{fetchdataForHome:function(){this.$store.dispatch("home/getVideoForHome")},handleGetMore:function(){this.$store.dispatch("home/handleGetMore")},fetchTagVideo:function(t){this.$store.dispatch("home/fetchTagVideo",{actionUrl:t})}},created:function(){this.fetchdataForHome(),this.fetchTagVideo()}},j={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"home-container",style:t.styleObject},[i("div",{staticClass:"home-header"},[i("div",{staticClass:"slider"},[i("Slider",{attrs:{videoForSlider:t.vfs}})],1),t._v(" "),i("div",{staticClass:"home-header-video-list"},[i("div",{staticClass:"row1"},t._l(t.vft_1.videoList,function(t,e){return i("video-item",{key:t.data.id,attrs:{video:t}})}),1),t._v(" "),i("div",{staticClass:"row2"},t._l(t.vft_2.videoList,function(t,e){return i("video-item",{key:t.data.id,attrs:{video:t}})}),1)])]),t._v(" "),i("div",{staticClass:"tags"},t._l(t.tags,function(e){return i("span",{on:{click:function(i){return t.fetchTagVideo(e.actionUrl)}}},[t._v(t._s(e.name))])}),0),t._v(" "),i("div",{staticClass:"video-for-tag-wrapper"},[i("transition-group",{staticClass:"video-for-tag",attrs:{tag:"div",name:"slide"}},t._l(t.tagVideo,function(t){return i("video-item",{key:t.data.id,staticClass:"slide-move",attrs:{video:t}})}),1)],1),t._v(" "),t.homeIsLoading?t._e():i("div",{staticClass:"divider"},[t._m(0)]),t._v(" "),t.vcwc.videoList?i("div",{staticClass:"home-body-one"},[t.vcwc.videoList?i("div",{staticClass:"video-list"},t._l(t.vcwc.videoList[0].data.itemList,function(t,e){return i("video-item",{key:t.data.id,attrs:{video:t}})}),1):t._e(),t._v(" "),i("div",{staticClass:"video-list-cover"},[i("video-cover",{attrs:{vcwc:t.vcwc.videoList}})],1)]):t._e(),t._v(" "),t.vcwc.videoList2?i("div",{staticClass:"home-body-two"},[i("div",{staticClass:"video-list-cover"},[i("video-cover",{attrs:{vcwc:t.vcwc.videoList2}})],1),t._v(" "),i("div",{staticClass:"video-list"},t._l(t.vcwc.videoList2[0].data.itemList,function(t,e){return i("video-item",{key:t.data.id,attrs:{video:t}})}),1)]):t._e(),t._v(" "),i("div",{staticClass:"video-follow"},[t.homeIsLoading?t._e():i("span",{staticClass:"icon-list"},[i("span",[t._v("编辑精选")])]),t._v(" "),t.vcof.videoList?i("div",{staticClass:"video-follow-container"},[i("icon-list",{attrs:{iconList:t.vcof.videoList[0].data.header.iconList}})],1):t._e(),t._v(" "),t.vcof.videoList?i("transition-group",{staticClass:"video-follow-list",attrs:{tag:"div"}},[t._l(t.vcof.videoList[0].data.itemList,function(t){return i("video-item",{key:t.data.id,attrs:{video:t}})}),t._v(" "),t._l(t.vfh.videoList2,function(e){return i(t.videoItemComponent,{key:e.data.id,tag:"component",attrs:{video:e}})})],2):t._e(),t._v(" "),t.homeIsLoading?t._e():i("div",{staticClass:"more",on:{click:t.handleGetMore}},[t._v("\n      get more\n    ")])],1),t._v(" "),t.homeIsLoading?i("loading"):t._e()],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon-list"},[e("span",[this._v("视频合集")])])}]};var H=i("VU/8")(R,j,!1,function(t){i("KSHT")},"data-v-61a24a99",null).exports,D={data:function(){return{videoItemComponent:"VideoItem"}},components:{VideoItem:O,Loading:M},computed:m()({},Object(s.b)("hot",{hotVideo:"hotVideo",nextPageUrl:"nextPageUrl",hotIsLoading:"hotIsLoading"})),methods:{fetchData:function(){this.$store.dispatch("hot/fetchData")},nextPage:function(){var t=this.nextPageUrl;window.scrollTo({top:0,left:0,behavior:"smooth"}),this.$store.dispatch("hot/fetchNextPage",{url:t})}},created:function(){this.fetchData()}},E={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[t._m(0),t._v(" "),i("transition-group",{staticClass:"hot-video-area",attrs:{tag:"div"}},t._l(t.hotVideo,function(e){return i("div",{key:e.data.id,staticClass:"hot-video-box"},[i(t.videoItemComponent,{key:e.data.id,tag:"component",attrs:{video:e}})],1)}),0),t._v(" "),i("div",{staticClass:"next-page"},[i("div",{staticClass:"next-page-box"},[i("span",{on:{click:t.nextPage}},[t._v("下一页"),i("span",{staticClass:"icon-circle-right"})])])]),t._v(" "),t.hotIsLoading?i("loading"):t._e()],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-header"},[e("span",{staticClass:"icon-fire"}),this._v(" "),e("span",[this._v("近期热门")])])}]};var J=i("VU/8")(D,E,!1,function(t){i("AuIS")},"data-v-79887606",null).exports,W={data:function(){return{}},components:{VideoItem:O,Loading:M},computed:m()({},Object(s.b)("category",{pages:"pages",categoriesIsLoading:"categoriesIsLoading"})),methods:{fetchData:function(){this.$store.dispatch("category/fetchPageOne")}},created:function(){this.fetchData()}},q={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[t._l(t.pages,function(e){return i("div",{staticClass:"page-container"},t._l(e.itemList,function(a){return i("div",{staticClass:"category-box",style:e.styleObject},[i("div",{staticClass:"text-header"},[i("span",{staticClass:"title"},[t._v("\n          "+t._s(a.data.header.title)+"\n        ")]),t._v(" "),i("span",{staticClass:"subTitle"},[t._v("\n          "+t._s(a.data.header.subTitle)+"\n        ")])]),t._v(" "),t._l(a.data.itemList,function(t){return i("div",{staticClass:"video-area"},[i("video-item",{key:t.data.id,attrs:{video:t}})],1)})],2)}),0)}),t._v(" "),t.categoriesIsLoading?i("loading"):t._e()],2)},staticRenderFns:[]};var K=i("VU/8")(W,q,!1,function(t){i("yGpH")},"data-v-583ec5a5",null).exports,B={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("\n  movie\n")])},staticRenderFns:[]};var A=i("VU/8")({data:function(){return{}}},B,!1,function(t){i("+Kp7")},"data-v-5c1e58c4",null).exports,G={props:{reply:{type:Object,default:function(){return{}}}},data:function(){return{}}},Q={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"reply-container"},[i("div",{staticClass:"avatar"},[i("img",{attrs:{src:t.reply.user.avatar,alt:"image"}})]),t._v(" "),i("div",{staticClass:"user-info"},[i("div",{staticClass:"user-name"},[i("span",[t._v("\n        "+t._s(t.reply.user.nickname)+"\n      ")])]),t._v(" "),i("div",{staticClass:"massage"},[i("div",[t._v("\n        "+t._s(t.reply.message)+"\n      ")]),t._v(" "),i("div",{staticClass:"like-count"},[i("span",{staticClass:"icon-heart"}),t._v("\n        "+t._s(t.reply.likeCount)+"\n      ")])])])])},staticRenderFns:[]};var z={data:function(){return{reply:"",replyComponent:"ReplyItem",replyCount:0}},components:{VideoList:L,ReplyItem:i("VU/8")(G,Q,!1,function(t){i("sgzY")},"data-v-1b169676",null).exports},computed:m()({},Object(s.b)("videopage",{videoTitle:"vtitle",videoDescription:"vdescription",videoTags:"vtags",videoCollectionCount:"vcollectionCount",videoReplyCount:"vreplyCount",videoAuthor:"vauthor",videoDuration:"vduration",videoPlayInfo:"vplayInfo",videoRelated:"vrelatedVideo",videoReplies:"vreplies"}),Object(s.b)("userdatabase",{videoLiked:"vVideoLiked",loginOK:"vloginOK"})),watch:{$route:function(){this.fetchDataForVideoPage(),this.checkIfLiked(),window.scrollTo({top:0,left:0,behavior:"smooth"})}},methods:{fetchDataForVideoPage:function(){var t=this.$route.params.vid;t||this.$router.go("/"),this.$store.dispatch("videopage/getVideoInfo",{id:t}),this.$store.dispatch("videopage/getVideoReplies",{id:t}),this.$store.dispatch("videopage/getRelatedVideo",{id:t})},collectionCountUp:function(){if(this.loginOK){var t=this.$route.params.vid;this.videoLiked?(this.vidioLiked=!1,this.$store.dispatch("userdatabase/dislike",{id:t})):this.$store.dispatch("userdatabase/like",{id:t})}else alert("请先登录！")},checkIfLiked:function(){var t=this.$route.params.vid;this.$store.dispatch("userdatabase/check",{id:t})},handleReply:function(){if(this.loginOK){var t=JSON.parse(window.localStorage.getItem("userMsg")).currentUser,e=this.reply,a=i("LnHB"),o={id:this.replyCount,message:e,user:{nickname:t,avatar:a},likeCount:0};this.reply="",this.replyCount+=1,this.$store.dispatch("videopage/addReply",{user:o})}else alert("请先登录！")},checkIfLogin:function(){JSON.parse(window.localStorage.getItem("userMsg")).loginSucceed&&this.$store.dispatch("userdatabase/logined")}},created:function(){this.fetchDataForVideoPage(),this.checkIfLiked(),this.checkIfLogin()}},Y={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"video-page-container"},[i("div",{staticClass:"video-area"},[i("div",{staticClass:"video-play-area"},[i("div",{staticClass:"video-title"},[t._v("\n        "+t._s(t.videoTitle)+"\n        "),t._l(t.videoTags,function(e){return i("span",[t._v("#"+t._s(e.name))])})],2),t._v(" "),t.videoPlayInfo?i("div",{staticClass:"video-box"},[i("video",{attrs:{src:t.videoPlayInfo[0].urlList[0].url,controls:""}})]):t._e(),t._v(" "),i("div",{staticClass:"video-info"},[i("div",{staticClass:"video-info-row1"},[i("div",{staticClass:"user"},[i("div",{staticClass:"user-avatar"},[i("img",{attrs:{src:t.videoAuthor.icon,alt:"image"}})]),t._v(" "),i("div",{staticClass:"user-info"},[i("span",[t._v(t._s(t.videoAuthor.name)),i("span",{staticClass:"icon-happy",attrs:{id:"happy"}})]),t._v(" "),i("span",[t._v("/*"+t._s(t.videoAuthor.description)+"*/")])])]),t._v(" "),i("div",{staticClass:"consumption"},[i("span",{staticClass:"icon-heart",class:{liked:this.videoLiked},on:{click:t.collectionCountUp}},[t._v(" "+t._s(t.videoCollectionCount+(this.videoLiked?1:0)))]),t._v(" "),i("span",{staticClass:"icon-file-text"},[t._v(" "+t._s(t.videoReplyCount))])])]),t._v(" "),i("div",{staticClass:"video-info-row2"},[i("p",[t._v(t._s(t.videoDescription))])])])]),t._v(" "),i("div",{staticClass:"video-reply-area"},[i("div",{staticClass:"comment"},[i("form",[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.reply,expression:"reply"}],attrs:{name:"comment",rows:"4",cols:"80",placeholder:t.loginOK?"你的评论":"你还没有登录...",disabled:!t.loginOK},domProps:{value:t.reply},on:{input:function(e){e.target.composing||(t.reply=e.target.value)}}}),t._v(" "),i("button",{attrs:{type:"button",name:"button"},on:{click:t.handleReply}},[t._v("发表评论")])])]),t._v(" "),i("transition-group",t._l(t.videoReplies.replyList,function(e){return i(t.replyComponent,{key:e.id,tag:"component",staticClass:"v-item",attrs:{reply:e}})}),1)],1)]),t._v(" "),i("div",{staticClass:"relatedvideo-area"},t._l(t.videoRelated.videoList,function(t){return i("video-list",{key:t.id,attrs:{video:t}})}),1)])},staticRenderFns:[]};var Z=i("VU/8")(z,Y,!1,function(t){i("4061")},"data-v-a7f7cef2",null).exports,X={data:function(){return{likeVideo:[],loginSucceed:!1,categoryName:"全部"}},components:{VideoList:L},computed:m()({},Object(s.b)("userpage",{videoLiked:"likevideos",category:"videoCatogery"})),methods:{fetchData:function(){var t={likeVideo:this.likeVideo};this.$store.dispatch("userpage/fetchData",{likeVideoObject:t})},selectCategory:function(t){this.categoryName=t,this.$store.dispatch("userpage/select",{category:t})}},created:function(){var t=this,e=JSON.parse(window.localStorage.getItem("userMsg")).loginSucceed;this.loginSucceed=e;var i=JSON.parse(window.localStorage.getItem("userMsg")).currentUser;JSON.parse(window.localStorage.getItem("userMsg")).userList.map(function(e){e.name===i&&(t.likeVideo=e.likeVideo)}),this.fetchData()}},tt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.loginSucceed?i("div",{staticClass:"container"},[t._m(0),t._v(" "),i("div",{staticClass:"video-area"},[i("div",{staticClass:"menu"},[i("ul",t._l(t.category,function(e){return i("li",{class:{active:e===t.categoryName},on:{click:function(i){return t.selectCategory(e)}}},[t._v(t._s(e))])}),0)]),t._v(" "),i("div",{staticClass:"video-container"},t._l(t.videoLiked,function(t){return i("video-list",{key:t.id,attrs:{video:t}})}),1)])]):t._e()},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("span",{staticClass:"icon-circle-right"}),this._v("我的收藏夹")])}]};var et=i("VU/8")(X,tt,!1,function(t){i("Wnsj")},"data-v-1fdf946f",null).exports,it={data:function(){return{}},components:{VideoItem:O},computed:m()({},Object(s.b)("search",{searchResult:"searchResult",nextPageUrl:"nextPageUrl"}),{videoObject:function(){return{videoList:this.searchResult.itemList}},query:function(){return this.$route.params.q}}),methods:{fetchData:function(){var t=this.query;t?this.$store.dispatch("search/fetchData",{q:t}):this.$router.go("/")},nextPage:function(){var t=this.nextPageUrl;this.$store.dispatch("search/fetchNextPage",{url:t})}},watch:{$route:function(){this.fetchData()}},created:function(){this.fetchData()}},at={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container"},[e("div",{staticClass:"text-header"},[this._v("\n    搜索结果\n  ")]),this._v(" "),e("div",{staticClass:"video-area"},this._l(this.videoObject.videoList,function(t){return e("div",{staticClass:"video-box"},[e("video-item",{key:t.data.id,attrs:{video:t}})],1)}),0),this._v(" "),e("div",{staticClass:"next-page"},[e("div",{staticClass:"next-page-box"},[e("span",{on:{click:this.nextPage}},[this._v("下一页"),e("span",{staticClass:"icon-circle-right"})])])])])},staticRenderFns:[]};var ot=i("VU/8")(it,at,!1,function(t){i("Iwh8")},"data-v-ffafd1b2",null).exports;a.a.use(g.a);var nt=new g.a({routes:[{name:"home",path:"/",component:H},{name:"hot",path:"/hot",component:J},{name:"category",path:"/category",component:K},{name:"movie",path:"/movie",component:A},{name:"videopage",path:"/videopage/:vid",component:Z},{name:"userpage",path:"/userpage",component:et},{name:"search",path:"/search/:q",component:ot}]}),st=i("Rf8U"),rt=i.n(st),ct=(i("mUbh"),i("UjVw"),i("woOf")),dt=i.n(ct),lt="https://bird.ioliu.cn/v1?url=",ut=lt+"http://baobab.kaiyanapp.com/api/v4/discovery/hot",vt=lt+"http://baobab.wandoujia.com/api/v1/video/",pt=(i("1nuA"),i("M4fF")),ht={vForHome:{},vForSlider:{},vForToday_1:{},vForToday_2:{},vcOfFollow:{},vcWithCover:{},url:"",nextTagUrl:"",tags:[],tagVideo:[],styleObject:{},isLoading:!0},gt={namespaced:!0,state:ht,getters:{videoForHome:function(t,e,i){return t.vForHome},videoForSlider:function(t,e,i){return t.vForSlider},videoForToday_1:function(t,e,i){return t.vForToday_1},videoForToday_2:function(t,e,i){return t.vForToday_2},videoCollectionOfFollow:function(t,e,i){return t.vcOfFollow},videoCollectionWithCover:function(t,e,i){return t.vcWithCover},homeIsLoading:function(t,e,i){return t.isLoading},videoTags:function(t,e,i){return pt.uniqWith(t.tags,pt.isEqual)},vTagVideo:function(t,e,i){return t.tagVideo}},actions:{getVideoForHome:function(t){var e=t.dispatch,i=t.commit;C.a.get("https://bird.ioliu.cn/v1?url=http://baobab.kaiyanapp.com/api/v4/tabs/selected").then(function(t){i("getVideoForHomeSucceed",{res:t}),e("getMoreVideoForHome")})},getMoreVideoForHome:function(t){t.dispatch;var e=t.commit,i=lt+ht.url;C.a.get(i).then(function(t){e("getMoreVideoForHomeSucceed",{res:t})})},getBlurred:function(t){(0,t.commit)("getHomePageBlurred")},getClear:function(t){(0,t.commit)("getPageClear")},handleGetMore:function(t){var e=t.commit,i=lt+ht.url;C.a.get(i).then(function(t){e("handleGetMoreSucceed",{res:t})})},fetchTagVideo:function(t,e){var i=t.commit,a=(e.actionUrl,void 0);a=ht.nextTagUrl?lt+ht.nextTagUrl:ut,C.a.get(a).then(function(t){i("fetchTagVideoSucceed",{res:t})})}},mutations:{getVideoForHomeSucceed:function(t,e){var i=e.res.data;t.isLoading=!1,t.url=i.nextPageUrl;var a,o,n=[],s=[],r=[],c=[];for(i.itemList.map(function(e){"video"===e.type?(n.push(e),e.data.tags.map(function(e){t.tags.push(e)})):"videoCollectionOfFollow"===e.type?s.push(e):"videoCollectionWithCover"===e.type&&r.push(e)});n.length<10;)n.push(n[pt.random(0,4)]);var d=r[0].data.itemList;d=pt.concat(d,n.slice(0,3)),r[0].data.itemList=d,c=n.splice(0,4),a=n.splice(0,3),o=n.splice(0,3),c.map(function(t,e){t.id=e}),t.vForHome=dt()({},t.vForHome,{videoList:n}),t.vForSlider=dt()({},t.vForSlider,{videoList:c}),t.vForToday_1=dt()({},t.vForToday_1,{videoList:a}),t.vForToday_2=dt()({},t.vForToday_2,{videoList:o}),t.vcOfFollow=dt()({},t.vcOfFollow,{videoList:s}),t.vcWithCover=dt()({},t.vcWithCover,{videoList:r}),console.log(t.videoForSlider)},getMoreVideoForHomeSucceed:function(t,e){var i=e.res.data;t.url=i.nextPageUrl;var a=[],o=[],n=[];i.itemList.map(function(t){"video"===t.type?a.push(t):"videoCollectionOfFollow"===t.type?o.push(t):"videoCollectionWithCover"===t.type&&n.push(t)});var s=n[0].data.itemList;s=pt.concat(s,a.slice(0,3)),n[0].data.itemList=s,t.vForHome=dt()({},t.vForHome,{videoList2:a}),t.vcOfFollow=dt()({},t.vcOfFollow,{videoList2:o}),t.vcWithCover=dt()({},t.vcWithCover,{videoList2:n})},handleGetMoreSucceed:function(t,e){var i=e.res.data;t.url=i.nextPageUrl,i.itemList.map(function(e){"video"===e.type&&t.vForHome.videoList2.push(e)})},getHomePageBlurred:function(t){t.styleObject={filter:"blur(2px)"}},getPageClear:function(t){t.styleObject={filter:"blur(0)"}},fetchTagVideoSucceed:function(t,e){var i=e.res.data;t.nextTagUrl=i.nextPageUrl;var a=[];i.itemList.map(function(t){"video"===t.type&&a.push(t)}),t.tagVideo=a.slice(0,12)}}},ft={namespaced:!0,state:{title:"",description:"",tags:[],collectionCount:null,replyCount:null,author:{},duration:null,playInfo:[],relatedVideo:{},replies:{}},getters:{vtitle:function(t,e,i){return t.title},vdescription:function(t,e,i){return t.description},vtags:function(t,e,i){return t.tags},vcollectionCount:function(t,e,i){return t.collectionCount},vreplyCount:function(t,e,i){return t.replyCount},vauthor:function(t,e,i){return t.author},vduration:function(t,e,i){return t.duration},vplayInfo:function(t,e,i){return t.playInfo},vrelatedVideo:function(t,e,i){return t.relatedVideo},vreplies:function(t,e,i){return t.replies}},actions:{getVideoInfo:function(t,e){var i=t.commit,a=e.id,o=vt+a;C.a.get(o).then(function(t){i("getVideoInfoSucceed",{res:t})})},getRelatedVideo:function(t,e){var i=t.commit,a="https://bird.ioliu.cn/v1?url=http://baobab.wandoujia.com/api/v1/video/related/"+e.id+"?num=8";C.a.get(a).then(function(t){i("getRelatedVideoSucceed",{res:t})})},getVideoReplies:function(t,e){var i=t.commit,a="https://bird.ioliu.cn/v1?url=http://baobab.wandoujia.com/api/v1/replies/video?id="+e.id+"&num=10";C.a.get(a).then(function(t){i("getVideoRepliesSucceed",{res:t})})},addReply:function(t,e){(0,t.commit)("addReplySucceed",{user:e.user})}},mutations:{getVideoInfoSucceed:function(t,e){var i=e.res.data;t.title=i.title,t.description=i.description,t.tags=i.tags,t.collectionCount=i.consumption.collectionCount,t.replyCount=i.consumption.replyCount,t.author=i.author,t.duration=i.duration,t.playInfo=i.playInfo},getRelatedVideoSucceed:function(t,e){var i=e.res.data;t.relatedVideo=i},getVideoRepliesSucceed:function(t,e){var i=e.res.data;t.replies=i},addReplySucceed:function(t,e){var i=e.user;t.replies.replyList.unshift(i)}}},mt={namespaced:!0,state:{loginSucceed:!1,currentUser:"",userList:[],videoLiked:null},getters:{vVideoLiked:function(t,e,i){return t.videoLiked},vloginOK:function(t,e,i){return t.loginSucceed}},actions:{regisButtonClick:function(t,e){(0,t.commit)("regisSucceed",{name:e.name,psw:e.psw})},loginButtonClick:function(t,e){(0,t.commit)("handleLogin",{name:e.name,psw:e.psw})},like:function(t,e){(0,t.commit)("likeUp",{id:e.id})},dislike:function(t,e){(0,t.commit)("likeDown",{id:e.id})},check:function(t,e){(0,t.commit)("checkIfLiked",{id:e.id})},logout:function(t){(0,t.commit)("logoutSucceed")},logined:function(t){(0,t.commit)("hasLogined")}},mutations:{regisSucceed:function(t,e){var i=e.name,a=e.psw;if(window.localStorage.getItem("userMsg")){var o=JSON.parse(window.localStorage.getItem("userMsg"));o.userList.push({name:i,psw:a,likeVideo:[]}),window.localStorage.setItem("userMsg",n()(o))}else{t.userList.push({name:i,psw:a,likeVideo:[]});var s={loginSucceed:!1,currentUser:"",userList:t.userList};window.localStorage.setItem("userMsg",n()(s)),console.log(s)}},handleLogin:function(t,e){var i=e.name,a=e.psw,o=JSON.parse(window.localStorage.getItem("userMsg"));o.userList.map(function(e){e.psw===a&&e.name===i&&(t.loginSucceed=!0,t.currentUser=i,o.loginSucceed=!0,o.currentUser=t.currentUser,window.localStorage.setItem("userMsg",n()(o)))})},likeUp:function(t,e){var i=e.id,a=JSON.parse(window.localStorage.getItem("userMsg")),o=JSON.parse(window.localStorage.getItem("userMsg")).currentUser;a.userList.map(function(t){t.name===o&&t.likeVideo.push({id:i})}),window.localStorage.setItem("userMsg",n()(a)),t.videoLiked=!0},likeDown:function(t,e){var i=e.id,a=JSON.parse(window.localStorage.getItem("userMsg")),o=JSON.parse(window.localStorage.getItem("userMsg")).currentUser;a.userList.map(function(t){t.name===o&&t.likeVideo.splice(t.likeVideo.findIndex(function(t){return t.id===i}),1)}),window.localStorage.setItem("userMsg",n()(a)),t.videoLiked=!1},checkIfLiked:function(t,e){var i=e.id,a=JSON.parse(window.localStorage.getItem("userMsg")),o=JSON.parse(window.localStorage.getItem("userMsg")).currentUser;a.userList.map(function(e){e.name===o&&(e.likeVideo.findIndex(function(t){return t.id===i})>-1?t.videoLiked=!0:t.videoLiked=!1)}),window.localStorage.setItem("userMsg",n()(a))},logoutSucceed:function(t){t.loginSucceed=!1},hasLogined:function(t){t.loginSucceed=!0}}},_t=i("M4fF"),Ct={namespaced:!0,state:{videoSet:[],category:["全部"],videoSorted:[]},getters:{likevideos:function(t,e,i){return t.videoSorted},videoCatogery:function(t,e,i){return _t.uniq(t.category)}},actions:{fetchData:function(t,e){var i=t.commit;e.likeVideoObject.likeVideo.map(function(t){var e=vt+t.id;C.a.get(e).then(function(t){i("fetchDataSucceed",{res:t})})})},select:function(t,e){(0,t.commit)("selectCategory",{category:e.category})}},mutations:{fetchDataSucceed:function(t,e){var i=e.res.data;t.videoSet.push(i),t.videoSorted.push(i),t.category.push(i.category)},selectCategory:function(t,e){var i=e.category;if("全部"===i)t.videoSorted=t.videoSet;else{var a=[];t.videoSet.map(function(t){t.category===i&&a.push(t)}),t.videoSorted=a}}}},yt={namespaced:!0,state:{sResult:{},npu:""},getters:{searchResult:function(t,e,i){return t.sResult},nextPageUrl:function(t,e,i){return t.npu}},actions:{fetchData:function(t,e){var i=t.commit,a="https://bird.ioliu.cn/v1?url=http://baobab.kaiyanapp.com/api/v1/search?num=15&query="+e.q;C.a.get(a).then(function(t){i("fetchDataSucceed",{res:t})})},fetchNextPage:function(t,e){var i=t.commit,a=e.url,o=lt+a;C.a.get(o).then(function(t){i("fetchNextPageSucceed",{res:t})})}},mutations:{fetchDataSucceed:function(t,e){var i=e.res.data;t.sResult=i,t.npu=i.nextPageUrl},fetchNextPageSucceed:function(t,e){var i=e.res.data;t.sResult=i,t.npu=i.nextPageUrl}}},wt={namespaced:!0,state:{hv:[],npu:"",isLoading:!0},getters:{hotVideo:function(t,e,i){return t.hv},nextPageUrl:function(t,e,i){return t.npu},hotIsLoading:function(t,e,i){return t.isLoading}},actions:{fetchData:function(t){var e=t.commit;C.a.get("https://bird.ioliu.cn/v1?url=http://baobab.kaiyanapp.com/api/v4/discovery/hot").then(function(t){e("fetchDataSucceed",{res:t})})},fetchNextPage:function(t,e){var i=t.commit,a=e.url,o=lt+a;C.a.get(o).then(function(t){i("fetchNextPageSucceed",{res:t})})}},mutations:{fetchDataSucceed:function(t,e){var i=e.res;t.isLoading=!1;var a=i.data;t.npu=a.nextPageUrl,a.itemList.map(function(e){"video"===e.type&&t.hv.push(e)})},fetchNextPageSucceed:function(t,e){var i=e.res;t.hv=[];var a=i.data;t.npu=a.nextPageUrl,setTimeout(function(){a.itemList.map(function(e){"video"===e.type&&t.hv.push(e)})},1e3)}}},St={npu:"",page:[],isLoading:!0},kt={namespaced:!0,state:St,getters:{pages:function(t,e,i){return t.page},categoriesIsLoading:function(t,e,i){return t.isLoading}},actions:{fetchPageOne:function(t){var e=t.dispatch,i=t.commit;C.a.get("https://bird.ioliu.cn/v1?url=http://baobab.kaiyanapp.com/api/v4/discovery/category").then(function(t){i("handleFetchData",{res:t}),e("fetchPageTwo")})},fetchPageTwo:function(t){var e=t.dispatch,i=t.commit,a=lt+St.npu;C.a.get(a).then(function(t){i("handleFetchData",{res:t}),e("fetchPageThree")})},fetchPageThree:function(t){var e=t.dispatch,i=t.commit,a=lt+St.npu;C.a.get(a).then(function(t){i("handleFetchData",{res:t}),e("fetchPageFour")})},fetchPageFour:function(t){var e=t.commit,i=lt+St.npu;C.a.get(i).then(function(t){e("handleFetchData",{res:t})})}},mutations:{handleFetchData:function(t,e){var i=e.res;t.isLoading=!1;var a=i.data;t.npu=a.nextPageUrl;var o=Math.floor(255*Math.random()),n=Math.floor(255*Math.random()),s={styleObject:{color:"rgb("+o+","+Math.floor(255*Math.random())+","+n+")"}};a=dt()({},a,s),t.page.push(a)}}};a.a.use(s.a);var bt=new s.a.Store({modules:{home:gt,videopage:ft,userdatabase:mt,userpage:Ct,search:yt,hot:wt,category:kt},strict:!1});a.a.use(rt.a,C.a),a.a.config.productionTip=!1,new a.a({el:"#app",router:nt,store:bt,components:{App:h},template:"<App/>"})},UjVw:function(t,e){},Wnsj:function(t,e){},fpS1:function(t,e){},gWMx:function(t,e){},"k/jh":function(t,e){},lH4u:function(t,e){},mUbh:function(t,e){},pkad:function(t,e){},sgzY:function(t,e){},yGpH:function(t,e){}},[0]);
//# sourceMappingURL=app.54c1aac98c75565692f5.js.map