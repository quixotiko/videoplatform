webpackJsonp([1],{"+Kp7":function(e,t){},"/KFM":function(e,t){},0:function(e,t,i){i("j1ja"),e.exports=i("NHnr")},"14gB":function(e,t){},"2h3q":function(e,t){},"3k4r":function(e,t){},4061:function(e,t){},AuIS:function(e,t){},CZKh:function(e,t){},Iwh8:function(e,t){},KSHT:function(e,t){},LnHB:function(e,t,i){e.exports=i.p+"static/img/default-avatar.8fc65e2.jpeg"},NHnr:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});i("j1ja");var a=i("7+uW"),o=i("mvHQ"),n=i.n(o),s=i("NYxO"),r={data:function(){return{tags:[{routeName:"home",tagName:"首页"},{routeName:"hot",tagName:"热门"},{routeName:"category",tagName:"分类"},{routeName:"movie",tagName:"电影"}],un:"",psw:"",loginPageShow:!1,regisPageShow:!1,userStatus:!1,nickName:"",searchQuery:"",wrong:!1}},computed:{userName:function(){return this.un},password:function(){return this.psw}},watch:{psw:function(){this.wrong=!1}},methods:{loginPagePopUp:function(){this.loginPageShow=!0,this.$store.dispatch("home/getBlurred")},loginPageHide:function(){this.loginPageShow=!1,this.$store.dispatch("home/getClear")},regisPagePopUp:function(){this.regisPageShow=!0,this.$store.dispatch("home/getBlurred")},regisPageHide:function(){this.regisPageShow=!1,this.$store.dispatch("home/getClear")},handleRegisClick:function(){var e=this.userName,t=this.password;this.regisPageHide(),this.loginPagePopUp(),this.$store.dispatch("userdatabase/regisButtonClick",{name:e,psw:t}),this.wrong=!1},handleLoginClick:function(){var e=this.userName,t=this.password;window.localStorage.getItem("userMsg")?(this.$store.dispatch("userdatabase/loginButtonClick",{name:e,psw:t}),JSON.parse(window.localStorage.getItem("userMsg")).loginSucceed?(this.loginPageHide(),this.userStatus=!0,this.nickName=JSON.parse(window.localStorage.getItem("userMsg")).currentUser):this.wrong=!0):this.wrong=!0},logout:function(){var e=JSON.parse(window.localStorage.getItem("userMsg"));e.currentUser="",e.loginSucceed=!1,window.localStorage.setItem("userMsg",n()(e)),this.userStatus=!1,this.$store.dispatch("userdatabase/logout")},search:function(){var e=this.searchQuery;this.$store.dispatch("search/fetchData",{q:e}),this.$router.push({name:"search",params:{q:this.searchQuery}})}},created:function(){if(window.localStorage.getItem("userMsg")){var e=JSON.parse(window.localStorage.getItem("userMsg"));this.userStatus=e.loginSucceed,this.nickName=e.currentUser}}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"index-wrapper"},[a("ul",[a("router-link",{attrs:{to:{name:"home",params:{}},exact:"",tag:"li"}},[a("a",{attrs:{href:"#"}},[a("span",{staticClass:"icon-home"}),a("span",[e._v("首页")])])]),e._v(" "),a("router-link",{attrs:{to:{name:"hot",params:{}},tag:"li"}},[a("a",{attrs:{href:"#"}},[a("span",{staticClass:"icon-fire"}),a("span",[e._v("热门")])])]),e._v(" "),a("router-link",{attrs:{to:{name:"category",params:{}},tag:"li"}},[a("a",{attrs:{href:"#"}},[a("span",{staticClass:"icon-list"}),a("span",[e._v("分类")])])]),e._v(" "),a("router-link",{attrs:{to:{name:"movie",params:{}},tag:"li"}},[a("a",{attrs:{href:"#"}},[a("span",{staticClass:"icon-earth"}),a("span",[e._v("电影")])])])],1),e._v(" "),a("div",{staticClass:"search"},[a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.searchQuery,expression:"searchQuery"}],attrs:{type:"text",name:"search",placeholder:"搜索你喜欢的视频"},domProps:{value:e.searchQuery},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)},input:function(t){t.target.composing||(e.searchQuery=t.target.value)}}}),e._v(" "),a("span",{staticClass:"icon-search"})])]),e._v(" "),e.userStatus?e._e():a("div",{staticClass:"user-not-login"},[a("div",{staticClass:"login-button",on:{click:e.loginPagePopUp}},[a("span",{staticClass:"icon-happy"},[e._v("登录")])]),e._v(" "),a("div",{staticClass:"regis-button",on:{click:e.regisPagePopUp}},[a("span",{staticClass:"icon-circle-right"},[e._v("注册")])])]),e._v(" "),e.userStatus?a("div",{staticClass:"user-login"},[a("div",{staticClass:"user-avatar"},[a("router-link",{attrs:{to:{name:"userpage"}}},[a("img",{attrs:{src:i("LnHB"),alt:"image"}})]),e._v(" "),a("span",[e._v(e._s(this.nickName)+"，欢迎回来")])],1)]):e._e(),e._v(" "),e.userStatus?a("div",{staticClass:"logout",on:{click:e.logout}},[a("span",[e._v("退出")])]):e._e(),e._v(" "),a("transition",[e.loginPageShow?a("div",{staticClass:"login-page"},[a("div",{staticClass:"login-box"},[a("form",[a("div",{staticClass:"user-name"},[a("label",{attrs:{for:"userName"}},[a("span",{staticClass:"icon-happy"}),e._v("用户名")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.un,expression:"un"}],attrs:{type:"text",name:"userName"},domProps:{value:e.un},on:{input:function(t){t.target.composing||(e.un=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"password"},[a("label",{attrs:{for:"psw"}},[a("span",{staticClass:"icon-file-text"}),e._v("密    码")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.psw,expression:"psw"}],attrs:{type:"text",name:"psw"},domProps:{value:e.psw},on:{input:function(t){t.target.composing||(e.psw=t.target.value)}}}),e._v(" "),e.wrong?a("span",{staticClass:"icon-cross"}):e._e()]),e._v(" "),a("div",[a("button",{attrs:{type:"button",name:"login"},on:{click:e.handleLoginClick}},[e._v("登录")]),e._v(" "),a("button",{attrs:{type:"button",name:"loginPageHide"},on:{click:e.loginPageHide}},[e._v("游客")])])])])]):e._e()]),e._v(" "),a("transition",[e.regisPageShow?a("div",{staticClass:"regis-page"},[a("div",{staticClass:"regis-box"},[a("form",[a("div",{staticClass:"user-name"},[a("label",{attrs:{for:"userName"}},[a("span",{staticClass:"icon-happy"}),e._v("用户名")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.un,expression:"un"}],attrs:{type:"text",name:"userName"},domProps:{value:e.un},on:{input:function(t){t.target.composing||(e.un=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"password"},[a("label",{attrs:{for:"psw"}},[a("span",{staticClass:"icon-file-text"}),e._v("密    码")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.psw,expression:"psw"}],attrs:{type:"text",name:"psw"},domProps:{value:e.psw},on:{input:function(t){t.target.composing||(e.psw=t.target.value)}}})]),e._v(" "),a("div",[a("button",{attrs:{type:"button",name:"login"},on:{click:e.handleRegisClick}},[e._v("注册")]),e._v(" "),a("button",{attrs:{type:"button",name:"loginPageHide"},on:{click:e.regisPageHide}},[e._v("游客")])])])])]):e._e()])],1)])},staticRenderFns:[]};var d={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"index-footer-container"})},staticRenderFns:[]};var l={methods:{scrollToTop:function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}}},u={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"container"},[t("span",{staticClass:"icon-rocket",on:{click:this.scrollToTop}})])},staticRenderFns:[]};var v={components:{IndexHeader:i("VU/8")(r,c,!1,function(e){i("/KFM")},"data-v-1d0e7e72",null).exports,IndexFooter:i("VU/8")({data:function(){return{}}},d,!1,function(e){i("3k4r")},"data-v-d8766ea0",null).exports,ScrollUp:i("VU/8")(l,u,!1,function(e){i("2h3q")},"data-v-56a8b414",null).exports}},p={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("index-header"),this._v(" "),t("keep-alive",[t("router-view")],1),this._v(" "),t("scroll-up"),this._v(" "),t("index-footer")],1)},staticRenderFns:[]};var h=i("VU/8")(v,p,!1,function(e){i("pkad")},null,null).exports,g=i("/ocq"),f=i("Dd8w"),m=i.n(f),_=i("mtWM"),C=i.n(_),y={props:{videoForSlider:{type:Object,default:function(){return{}}}},data:function(){return{sliderOnIndex:0,stop:null,dotOnIndex:0}},computed:{classObjectOne:function(){return{"icon-circle-right":0!==this.dotOnIndex,"icon-happy":0===this.dotOnIndex}},classObjectTwo:function(){return{"icon-circle-right":1!==this.dotOnIndex,"icon-happy":1===this.dotOnIndex}},classObjectThree:function(){return{"icon-circle-right":2!==this.dotOnIndex,"icon-happy":2===this.dotOnIndex}},classObjectFour:function(){return{"icon-circle-right":3!==this.dotOnIndex,"icon-happy":3===this.dotOnIndex}}},methods:{nextSlider:function(){this.sliderOnIndex++,this.dotOnIndex++,this.sliderOnIndex===this.videoForSlider.videoList.length&&(this.sliderOnIndex=0,this.dotOnIndex=0)},sliderLoop:function(){this.stop=setInterval(this.nextSlider,6e3)},stopSlider:function(){clearInterval(this.stop)}},mounted:function(){this.sliderLoop()}},w={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.videoForSlider.videoList?i("div",{staticClass:"container"},[i("router-link",{attrs:{to:{name:"videopage",params:{vid:e.videoForSlider.videoList[e.sliderOnIndex].data.id}}}},[i("transition-group",{attrs:{tag:"div"}},[e._l(e.videoForSlider.videoList,function(t,a){return a===e.sliderOnIndex?i("img",{key:t.data.id,attrs:{src:t.data.cover.feed,alt:"imageForSlider"},on:{mouseover:e.stopSlider,mouseleave:e.sliderLoop}}):e._e()}),e._v(" "),e._l(e.videoForSlider.videoList,function(t,a){return a===e.sliderOnIndex?i("div",{key:t.id,staticClass:"desciption"},[i("div",{staticClass:"title-slogan"},[i("span",{staticClass:"title"},[e._v(e._s(t.data.title))]),e._v(" "),i("span",{staticClass:"slogan"},[e._v(e._s(t.data.slogan))])]),e._v(" "),i("span",{staticClass:"tag"},[e._v("#"+e._s(t.data.category))])]):e._e()})],2)],1),e._v(" "),i("div",{staticClass:"dots"},[i("span",{class:e.classObjectOne,on:{click:function(t){e.sliderOnIndex=0,e.dotOnIndex=0}}}),e._v(" "),i("span",{class:e.classObjectTwo,on:{click:function(t){e.sliderOnIndex=1,e.dotOnIndex=1}}}),e._v(" "),i("span",{class:e.classObjectThree,on:{click:function(t){e.sliderOnIndex=2,e.dotOnIndex=2}}}),e._v(" "),i("span",{class:e.classObjectFour,on:{click:function(t){e.sliderOnIndex=3,e.dotOnIndex=3}}})])],1):e._e()},staticRenderFns:[]};var S=i("VU/8")(y,w,!1,function(e){i("lH4u")},"data-v-11627ab0",null).exports,k={props:{video:{type:Object,default:function(){return{}}}},data:function(){return{styleObject:{background:"url("+this.video.coverForFeed+") no-repeat","background-size":"cover"}}}},b={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("router-link",{attrs:{to:{name:"videopage",params:{vid:e.video.id}},tag:"div"}},[i("div",{staticClass:"video-item-container"},[i("div",{staticClass:"image-box",style:e.styleObject}),e._v(" "),i("div",{staticClass:"description"},[e._v("\n        "+e._s(e.video.title)+"\n      ")]),e._v(" "),i("div",{staticClass:"info"},[i("span",{staticClass:"collectionCount"},[i("span",{staticClass:"icon-heart"}),e._v(e._s(e.video.consumption.collectionCount))]),e._v(" "),i("span",{staticClass:"replyCount"},[i("span",{staticClass:"icon-file-text"}),e._v(e._s(e.video.consumption.replyCount))])])])])},staticRenderFns:[]};var L=i("VU/8")(k,b,!1,function(e){i("CZKh")},"data-v-1b6f6750",null).exports,x={props:{video:{type:Object,default:function(){return{}}}},data:function(){return{styleObject:{background:"url("+this.video.data.cover.feed+") no-repeat","background-size":"cover"}}},computed:{}},I={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("router-link",{attrs:{to:{name:"videopage",params:{vid:e.video.data.id}},tag:"div"}},[i("div",{staticClass:"video-item-container"},[e.video.data.cover.feed?i("div",{staticClass:"image-box",style:e.styleObject}):e._e(),e._v(" "),i("div",{staticClass:"description"},[e._v("\n        "+e._s(e.video.data.title)+"\n      ")]),e._v(" "),i("div",{staticClass:"info"},[i("span",{staticClass:"collectionCount"},[i("span",{staticClass:"icon-heart"}),e._v(" "+e._s(e.video.data.consumption.collectionCount))]),e._v(" "),i("span",{staticClass:"replyCount"},[i("span",{staticClass:"icon-file-text"}),e._v(" "+e._s(e.video.data.consumption.replyCount))])])])])},staticRenderFns:[]};var O=i("VU/8")(x,I,!1,function(e){i("fpS1")},"data-v-71a51148",null).exports,F={props:{vcwc:{type:Array,default:function(){return[]}}},data:function(){return{}},computed:{background:function(){return{background:"url("+this.vcwc[0].data.header.cover+") no-repeat","background-size":"contain"}}}},V={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"video-cover-container"},[t("div",{staticClass:"cover",style:this.background})])},staticRenderFns:[]};var P=i("VU/8")(F,V,!1,function(e){i("k/jh")},"data-v-70383d2e",null).exports,U={props:{iconList:{type:Array,default:function(){return[]}}},data:function(){return{}}},$={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"icon-list-container"},this._l(this.iconList,function(e,i){return t("img",{attrs:{src:e,alt:""}})}),0)},staticRenderFns:[]};var N=i("VU/8")(U,$,!1,function(e){i("14gB")},"data-v-e93db8de",null).exports,T={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"container"},[t("div",{staticClass:"loading"})])}]};var j=i("VU/8")({data:function(){return{}}},T,!1,function(e){i("gWMx")},"data-v-7f87ae95",null).exports,M={name:"home",components:{Slider:S,VideoList:L,VideoItem:O,VideoCover:P,IconList:N,Loading:j},data:function(){return{content:"",videoItemComponent:"VideoItem"}},computed:m()({},Object(s.b)("home",{vfs:"videoForSlider",vfh:"videoForHome",vcof:"videoCollectionOfFollow",vcwc:"videoCollectionWithCover",vft_1:"videoForToday_1",vft_2:"videoForToday_2",homeIsLoading:"homeIsLoading",tags:"videoTags",tagVideo:"vTagVideo"}),{styleObject:function(){return this.$store.state.home.styleObject}}),methods:{fetchdataForHome:function(){this.$store.dispatch("home/getVideoForHome")},handleGetMore:function(){this.$store.dispatch("home/handleGetMore")},fetchTagVideo:function(e){this.$store.dispatch("home/fetchTagVideo",{actionUrl:e})}},created:function(){this.fetchdataForHome(),this.fetchTagVideo()}},R={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"home-container",style:e.styleObject},[i("div",{staticClass:"home-header"},[i("div",{staticClass:"slider"},[i("Slider",{attrs:{videoForSlider:e.vfs}})],1),e._v(" "),i("div",{staticClass:"home-header-video-list"},[i("div",{staticClass:"row1"},e._l(e.vft_1.videoList,function(e,t){return i("video-item",{key:e.data.id,attrs:{video:e}})}),1),e._v(" "),i("div",{staticClass:"row2"},e._l(e.vft_2.videoList,function(e,t){return i("video-item",{key:e.data.id,attrs:{video:e}})}),1)])]),e._v(" "),i("div",{staticClass:"tags"},e._l(e.tags,function(t){return i("span",{on:{click:function(i){return e.fetchTagVideo(t.actionUrl)}}},[e._v(e._s(t.name))])}),0),e._v(" "),i("div",{staticClass:"video-for-tag-wrapper"},[i("transition-group",{staticClass:"video-for-tag",attrs:{tag:"div",name:"slide"}},e._l(e.tagVideo,function(e){return i("video-item",{key:e.data.id,staticClass:"slide-move",attrs:{video:e}})}),1)],1),e._v(" "),e.homeIsLoading?e._e():i("div",{staticClass:"divider"},[e._m(0)]),e._v(" "),e.vcwc.videoList?i("div",{staticClass:"home-body-one"},[e.vcwc.videoList?i("div",{staticClass:"video-list"},e._l(e.vcwc.videoList[0].data.itemList,function(e,t){return i("video-item",{key:e.data.id,attrs:{video:e}})}),1):e._e(),e._v(" "),i("div",{staticClass:"video-list-cover"},[i("video-cover",{attrs:{vcwc:e.vcwc.videoList}})],1)]):e._e(),e._v(" "),e.vcwc.videoList2?i("div",{staticClass:"home-body-two"},[i("div",{staticClass:"video-list-cover"},[i("video-cover",{attrs:{vcwc:e.vcwc.videoList2}})],1),e._v(" "),i("div",{staticClass:"video-list"},e._l(e.vcwc.videoList2[0].data.itemList,function(e,t){return i("video-item",{key:e.data.id,attrs:{video:e}})}),1)]):e._e(),e._v(" "),i("div",{staticClass:"video-follow"},[e.homeIsLoading?e._e():i("span",{staticClass:"icon-list"},[i("span",[e._v("编辑精选")])]),e._v(" "),e.vcof.videoList?i("div",{staticClass:"video-follow-container"},[i("icon-list",{attrs:{iconList:e.vcof.videoList[0].data.header.iconList}})],1):e._e(),e._v(" "),e.vcof.videoList?i("transition-group",{staticClass:"video-follow-list",attrs:{tag:"div"}},[e._l(e.vcof.videoList[0].data.itemList,function(e){return i("video-item",{key:e.data.id,attrs:{video:e}})}),e._v(" "),e._l(e.vfh.videoList2,function(t){return i(e.videoItemComponent,{key:t.data.id,tag:"component",attrs:{video:t}})})],2):e._e(),e._v(" "),e.homeIsLoading?e._e():i("div",{staticClass:"more",on:{click:e.handleGetMore}},[e._v("\n      get more\n    ")])],1),e._v(" "),e.homeIsLoading?i("loading"):e._e()],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"icon-list"},[t("span",[this._v("视频合集")])])}]};var H=i("VU/8")(M,R,!1,function(e){i("KSHT")},"data-v-61a24a99",null).exports,D={data:function(){return{videoItemComponent:"VideoItem"}},components:{VideoItem:O,Loading:j},computed:m()({},Object(s.b)("hot",{hotVideo:"hotVideo",nextPageUrl:"nextPageUrl",hotIsLoading:"hotIsLoading"})),methods:{fetchData:function(){this.$store.dispatch("hot/fetchData")},nextPage:function(){var e=this.nextPageUrl;window.scrollTo({top:0,left:0,behavior:"smooth"}),this.$store.dispatch("hot/fetchNextPage",{url:e})}},created:function(){this.fetchData()}},E={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"container"},[e._m(0),e._v(" "),i("transition-group",{staticClass:"hot-video-area",attrs:{tag:"div"}},e._l(e.hotVideo,function(t){return i("div",{key:t.data.id,staticClass:"hot-video-box"},[i(e.videoItemComponent,{key:t.data.id,tag:"component",attrs:{video:t}})],1)}),0),e._v(" "),i("div",{staticClass:"next-page"},[i("div",{staticClass:"next-page-box"},[i("span",{on:{click:e.nextPage}},[e._v("下一页"),i("span",{staticClass:"icon-circle-right"})])])]),e._v(" "),e.hotIsLoading?i("loading"):e._e()],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"text-header"},[t("span",{staticClass:"icon-fire"}),this._v(" "),t("span",[this._v("近期热门")])])}]};var J=i("VU/8")(D,E,!1,function(e){i("AuIS")},"data-v-79887606",null).exports,W={data:function(){return{}},components:{VideoItem:O,Loading:j},computed:m()({},Object(s.b)("category",{pages:"pages",categoriesIsLoading:"categoriesIsLoading"})),methods:{fetchData:function(){this.$store.dispatch("category/fetchPageOne")}},created:function(){this.fetchData()}},q={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"container"},[e._l(e.pages,function(t){return i("div",{staticClass:"page-container"},e._l(t.itemList,function(a){return i("div",{staticClass:"category-box",style:t.styleObject},[i("div",{staticClass:"text-header"},[i("span",{staticClass:"title"},[e._v("\n          "+e._s(a.data.header.title)+"\n        ")]),e._v(" "),i("span",{staticClass:"subTitle"},[e._v("\n          "+e._s(a.data.header.subTitle)+"\n        ")])]),e._v(" "),e._l(a.data.itemList,function(e){return i("div",{staticClass:"video-area"},[i("video-item",{key:e.data.id,attrs:{video:e}})],1)})],2)}),0)}),e._v(" "),e.categoriesIsLoading?i("loading"):e._e()],2)},staticRenderFns:[]};var K=i("VU/8")(W,q,!1,function(e){i("yGpH")},"data-v-583ec5a5",null).exports,B={render:function(){var e=this.$createElement;return(this._self._c||e)("div",[this._v("\n  movie\n")])},staticRenderFns:[]};var A=i("VU/8")({data:function(){return{}}},B,!1,function(e){i("+Kp7")},"data-v-5c1e58c4",null).exports,G={props:{reply:{type:Object,default:function(){return{}}}},data:function(){return{}}},Q={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"reply-container"},[i("div",{staticClass:"avatar"},[i("img",{attrs:{src:e.reply.user.avatar,alt:"image"}})]),e._v(" "),i("div",{staticClass:"user-info"},[i("div",{staticClass:"user-name"},[i("span",[e._v("\n        "+e._s(e.reply.user.nickname)+"\n      ")])]),e._v(" "),i("div",{staticClass:"massage"},[i("div",[e._v("\n        "+e._s(e.reply.message)+"\n      ")]),e._v(" "),i("div",{staticClass:"like-count"},[i("span",{staticClass:"icon-heart"}),e._v("\n        "+e._s(e.reply.likeCount)+"\n      ")])])])])},staticRenderFns:[]};var z={data:function(){return{reply:"",replyComponent:"ReplyItem",replyCount:0}},components:{VideoList:L,ReplyItem:i("VU/8")(G,Q,!1,function(e){i("sgzY")},"data-v-1b169676",null).exports},computed:m()({},Object(s.b)("videopage",{videoTitle:"vtitle",videoDescription:"vdescription",videoTags:"vtags",videoCollectionCount:"vcollectionCount",videoReplyCount:"vreplyCount",videoAuthor:"vauthor",videoDuration:"vduration",videoPlayInfo:"vplayInfo",videoRelated:"vrelatedVideo",videoReplies:"vreplies"}),Object(s.b)("userdatabase",{videoLiked:"vVideoLiked",loginOK:"vloginOK"})),watch:{$route:function(){this.fetchDataForVideoPage(),this.checkIfLiked(),window.scrollTo({top:0,left:0,behavior:"smooth"})}},methods:{fetchDataForVideoPage:function(){var e=this.$route.params.vid;e||this.$router.go("/"),this.$store.dispatch("videopage/getVideoInfo",{id:e}),this.$store.dispatch("videopage/getVideoReplies",{id:e}),this.$store.dispatch("videopage/getRelatedVideo",{id:e})},collectionCountUp:function(){if(this.loginOK){var e=this.$route.params.vid;this.videoLiked?(this.vidioLiked=!1,this.$store.dispatch("userdatabase/dislike",{id:e})):this.$store.dispatch("userdatabase/like",{id:e})}else alert("请先登录！")},checkIfLiked:function(){var e=this.$route.params.vid;this.$store.dispatch("userdatabase/check",{id:e})},handleReply:function(){if(this.loginOK){var e=JSON.parse(window.localStorage.getItem("userMsg")).currentUser,t=this.reply,a=i("LnHB"),o={id:this.replyCount,message:t,user:{nickname:e,avatar:a},likeCount:0};this.reply="",this.replyCount+=1,this.$store.dispatch("videopage/addReply",{user:o})}else alert("请先登录！")},checkIfLogin:function(){JSON.parse(window.localStorage.getItem("userMsg")).loginSucceed&&this.$store.dispatch("userdatabase/logined")}},created:function(){this.fetchDataForVideoPage(),this.checkIfLiked(),this.checkIfLogin()}},Y={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"video-page-container"},[i("div",{staticClass:"video-area"},[i("div",{staticClass:"video-play-area"},[i("div",{staticClass:"video-title"},[e._v("\n        "+e._s(e.videoTitle)+"\n        "),e._l(e.videoTags,function(t){return i("span",[e._v("#"+e._s(t.name))])})],2),e._v(" "),e.videoPlayInfo?i("div",{staticClass:"video-box"},[i("video",{attrs:{src:e.videoPlayInfo[0].urlList[0].url,controls:""}})]):e._e(),e._v(" "),i("div",{staticClass:"video-info"},[i("div",{staticClass:"video-info-row1"},[i("div",{staticClass:"user"},[i("div",{staticClass:"user-avatar"},[i("img",{attrs:{src:e.videoAuthor.icon,alt:"image"}})]),e._v(" "),i("div",{staticClass:"user-info"},[i("span",[e._v(e._s(e.videoAuthor.name)),i("span",{staticClass:"icon-happy",attrs:{id:"happy"}})]),e._v(" "),i("span",[e._v("/*"+e._s(e.videoAuthor.description)+"*/")])])]),e._v(" "),i("div",{staticClass:"consumption"},[i("span",{staticClass:"icon-heart",class:{liked:this.videoLiked},on:{click:e.collectionCountUp}},[e._v(" "+e._s(e.videoCollectionCount+(this.videoLiked?1:0)))]),e._v(" "),i("span",{staticClass:"icon-file-text"},[e._v(" "+e._s(e.videoReplyCount))])])]),e._v(" "),i("div",{staticClass:"video-info-row2"},[i("p",[e._v(e._s(e.videoDescription))])])])]),e._v(" "),i("div",{staticClass:"video-reply-area"},[i("div",{staticClass:"comment"},[i("form",[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.reply,expression:"reply"}],attrs:{name:"comment",rows:"4",cols:"80",placeholder:e.loginOK?"你的评论":"你还没有登录...",disabled:!e.loginOK},domProps:{value:e.reply},on:{input:function(t){t.target.composing||(e.reply=t.target.value)}}}),e._v(" "),i("button",{attrs:{type:"button",name:"button"},on:{click:e.handleReply}},[e._v("发表评论")])])]),e._v(" "),i("transition-group",e._l(e.videoReplies.replyList,function(t){return i(e.replyComponent,{key:t.id,tag:"component",staticClass:"v-item",attrs:{reply:t}})}),1)],1)]),e._v(" "),i("div",{staticClass:"relatedvideo-area"},e._l(e.videoRelated.videoList,function(e){return i("video-list",{key:e.id,attrs:{video:e}})}),1)])},staticRenderFns:[]};var Z=i("VU/8")(z,Y,!1,function(e){i("4061")},"data-v-a7f7cef2",null).exports,X={data:function(){return{likeVideo:[],loginSucceed:!1,categoryName:"全部"}},components:{VideoList:L},computed:m()({},Object(s.b)("userpage",{videoLiked:"likevideos",category:"videoCatogery"})),methods:{fetchData:function(){var e={likeVideo:this.likeVideo};this.$store.dispatch("userpage/fetchData",{likeVideoObject:e})},selectCategory:function(e){this.categoryName=e,this.$store.dispatch("userpage/select",{category:e})}},created:function(){var e=this,t=JSON.parse(window.localStorage.getItem("userMsg")).loginSucceed;this.loginSucceed=t;var i=JSON.parse(window.localStorage.getItem("userMsg")).currentUser;JSON.parse(window.localStorage.getItem("userMsg")).userList.map(function(t){t.name===i&&(e.likeVideo=t.likeVideo)}),this.fetchData()}},ee={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.loginSucceed?i("div",{staticClass:"container"},[e._m(0),e._v(" "),i("div",{staticClass:"video-area"},[i("div",{staticClass:"menu"},[i("ul",e._l(e.category,function(t){return i("li",{class:{active:t===e.categoryName},on:{click:function(i){return e.selectCategory(t)}}},[e._v(e._s(t))])}),0)]),e._v(" "),i("div",{staticClass:"video-container"},e._l(e.videoLiked,function(e){return i("video-list",{key:e.id,attrs:{video:e}})}),1)])]):e._e()},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("span",[t("span",{staticClass:"icon-circle-right"}),this._v("我的收藏夹")])}]};var te=i("VU/8")(X,ee,!1,function(e){i("Wnsj")},"data-v-1fdf946f",null).exports,ie={data:function(){return{}},components:{VideoItem:O},computed:m()({},Object(s.b)("search",{searchResult:"searchResult",nextPageUrl:"nextPageUrl"}),{videoObject:function(){return{videoList:this.searchResult.itemList}},query:function(){return this.$route.params.q}}),methods:{fetchData:function(){var e=this.query;e?this.$store.dispatch("search/fetchData",{q:e}):this.$router.go("/")},nextPage:function(){var e=this.nextPageUrl;this.$store.dispatch("search/fetchNextPage",{url:e})}},watch:{$route:function(){this.fetchData()}},created:function(){this.fetchData()}},ae={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"container"},[t("div",{staticClass:"text-header"},[this._v("\n    搜索结果\n  ")]),this._v(" "),t("div",{staticClass:"video-area"},this._l(this.videoObject.videoList,function(e){return t("div",{staticClass:"video-box"},[t("video-item",{key:e.data.id,attrs:{video:e}})],1)}),0),this._v(" "),t("div",{staticClass:"next-page"},[t("div",{staticClass:"next-page-box"},[t("span",{on:{click:this.nextPage}},[this._v("下一页"),t("span",{staticClass:"icon-circle-right"})])])])])},staticRenderFns:[]};var oe=i("VU/8")(ie,ae,!1,function(e){i("Iwh8")},"data-v-ffafd1b2",null).exports;a.a.use(g.a);var ne=new g.a({routes:[{name:"home",path:"/",component:H},{name:"hot",path:"/hot",component:J},{name:"category",path:"/category",component:K},{name:"movie",path:"/movie",component:A},{name:"videopage",path:"/videopage/:vid",component:Z},{name:"userpage",path:"/userpage",component:te},{name:"search",path:"/search/:q",component:oe}]}),se=i("Rf8U"),re=i.n(se),ce=(i("mUbh"),i("UjVw"),i("woOf")),de=i.n(ce),le="http://baobab.kaiyanapp.com/api/v4/discovery/hot",ue=(i("1nuA"),i("M4fF")),ve={vForHome:{},vForSlider:{},vForToday_1:{},vForToday_2:{},vcOfFollow:{},vcWithCover:{},url:"",nextTagUrl:"",tags:[],tagVideo:[],styleObject:{},isLoading:!0},pe={namespaced:!0,state:ve,getters:{videoForHome:function(e,t,i){return e.vForHome},videoForSlider:function(e,t,i){return e.vForSlider},videoForToday_1:function(e,t,i){return e.vForToday_1},videoForToday_2:function(e,t,i){return e.vForToday_2},videoCollectionOfFollow:function(e,t,i){return e.vcOfFollow},videoCollectionWithCover:function(e,t,i){return e.vcWithCover},homeIsLoading:function(e,t,i){return e.isLoading},videoTags:function(e,t,i){return ue.uniqWith(e.tags,ue.isEqual)},vTagVideo:function(e,t,i){return e.tagVideo}},actions:{getVideoForHome:function(e){var t=e.dispatch,i=e.commit;C.a.get("http://baobab.kaiyanapp.com/api/v4/tabs/selected").then(function(e){i("getVideoForHomeSucceed",{res:e}),t("getMoreVideoForHome")})},getMoreVideoForHome:function(e){e.dispatch;var t=e.commit,i=""+ve.url;C.a.get(i).then(function(e){t("getMoreVideoForHomeSucceed",{res:e})})},getBlurred:function(e){(0,e.commit)("getHomePageBlurred")},getClear:function(e){(0,e.commit)("getPageClear")},handleGetMore:function(e){var t=e.commit,i=""+ve.url;C.a.get(i).then(function(e){t("handleGetMoreSucceed",{res:e})})},fetchTagVideo:function(e,t){var i=e.commit,a=(t.actionUrl,void 0);a=ve.nextTagUrl?""+ve.nextTagUrl:le,C.a.get(a).then(function(e){i("fetchTagVideoSucceed",{res:e})})}},mutations:{getVideoForHomeSucceed:function(e,t){var i=t.res.data;e.isLoading=!1,e.url=i.nextPageUrl;var a,o,n=[],s=[],r=[],c=[];i.itemList.map(function(t){"video"===t.type?(n.push(t),t.data.tags.map(function(t){e.tags.push(t)})):"videoCollectionOfFollow"===t.type?s.push(t):"videoCollectionWithCover"===t.type&&r.push(t)});var d=r[0].data.itemList;d=ue.concat(d,n.slice(0,3)),r[0].data.itemList=d,c=n.splice(0,4),a=n.splice(0,3),o=n.splice(0,3),c.map(function(e,t){e.id=t}),e.vForHome=de()({},e.vForHome,{videoList:n}),e.vForSlider=de()({},e.vForSlider,{videoList:c}),e.vForToday_1=de()({},e.vForToday_1,{videoList:a}),e.vForToday_2=de()({},e.vForToday_2,{videoList:o}),e.vcOfFollow=de()({},e.vcOfFollow,{videoList:s}),e.vcWithCover=de()({},e.vcWithCover,{videoList:r}),console.log(e.videoForSlider)},getMoreVideoForHomeSucceed:function(e,t){var i=t.res.data;e.url=i.nextPageUrl;var a=[],o=[],n=[];i.itemList.map(function(e){"video"===e.type?a.push(e):"videoCollectionOfFollow"===e.type?o.push(e):"videoCollectionWithCover"===e.type&&n.push(e)});var s=n[0].data.itemList;s=ue.concat(s,a.slice(0,3)),n[0].data.itemList=s,e.vForHome=de()({},e.vForHome,{videoList2:a}),e.vcOfFollow=de()({},e.vcOfFollow,{videoList2:o}),e.vcWithCover=de()({},e.vcWithCover,{videoList2:n})},handleGetMoreSucceed:function(e,t){var i=t.res.data;e.url=i.nextPageUrl,i.itemList.map(function(t){"video"===t.type&&e.vForHome.videoList2.push(t)})},getHomePageBlurred:function(e){e.styleObject={filter:"blur(2px)"}},getPageClear:function(e){e.styleObject={filter:"blur(0)"}},fetchTagVideoSucceed:function(e,t){var i=t.res.data;e.nextTagUrl=i.nextPageUrl;var a=[];i.itemList.map(function(e){"video"===e.type&&a.push(e)}),e.tagVideo=a.slice(0,12)}}},he={namespaced:!0,state:{title:"",description:"",tags:[],collectionCount:null,replyCount:null,author:{},duration:null,playInfo:[],relatedVideo:{},replies:{}},getters:{vtitle:function(e,t,i){return e.title},vdescription:function(e,t,i){return e.description},vtags:function(e,t,i){return e.tags},vcollectionCount:function(e,t,i){return e.collectionCount},vreplyCount:function(e,t,i){return e.replyCount},vauthor:function(e,t,i){return e.author},vduration:function(e,t,i){return e.duration},vplayInfo:function(e,t,i){return e.playInfo},vrelatedVideo:function(e,t,i){return e.relatedVideo},vreplies:function(e,t,i){return e.replies}},actions:{getVideoInfo:function(e,t){var i=e.commit,a="http://baobab.wandoujia.com/api/v1/video/"+t.id;C.a.get(a).then(function(e){i("getVideoInfoSucceed",{res:e})})},getRelatedVideo:function(e,t){var i=e.commit,a="http://baobab.wandoujia.com/api/v1/video/related/"+t.id+"?num=8";C.a.get(a).then(function(e){i("getRelatedVideoSucceed",{res:e})})},getVideoReplies:function(e,t){var i=e.commit,a="http://baobab.wandoujia.com/api/v1/replies/video?id="+t.id+"&num=10";C.a.get(a).then(function(e){i("getVideoRepliesSucceed",{res:e})})},addReply:function(e,t){(0,e.commit)("addReplySucceed",{user:t.user})}},mutations:{getVideoInfoSucceed:function(e,t){var i=t.res.data;e.title=i.title,e.description=i.description,e.tags=i.tags,e.collectionCount=i.consumption.collectionCount,e.replyCount=i.consumption.replyCount,e.author=i.author,e.duration=i.duration,e.playInfo=i.playInfo},getRelatedVideoSucceed:function(e,t){var i=t.res.data;e.relatedVideo=i},getVideoRepliesSucceed:function(e,t){var i=t.res.data;e.replies=i},addReplySucceed:function(e,t){var i=t.user;e.replies.replyList.unshift(i)}}},ge={namespaced:!0,state:{loginSucceed:!1,currentUser:"",userList:[],videoLiked:null},getters:{vVideoLiked:function(e,t,i){return e.videoLiked},vloginOK:function(e,t,i){return e.loginSucceed}},actions:{regisButtonClick:function(e,t){(0,e.commit)("regisSucceed",{name:t.name,psw:t.psw})},loginButtonClick:function(e,t){(0,e.commit)("handleLogin",{name:t.name,psw:t.psw})},like:function(e,t){(0,e.commit)("likeUp",{id:t.id})},dislike:function(e,t){(0,e.commit)("likeDown",{id:t.id})},check:function(e,t){(0,e.commit)("checkIfLiked",{id:t.id})},logout:function(e){(0,e.commit)("logoutSucceed")},logined:function(e){(0,e.commit)("hasLogined")}},mutations:{regisSucceed:function(e,t){var i=t.name,a=t.psw;if(window.localStorage.getItem("userMsg")){var o=JSON.parse(window.localStorage.getItem("userMsg"));o.userList.push({name:i,psw:a,likeVideo:[]}),window.localStorage.setItem("userMsg",n()(o))}else{e.userList.push({name:i,psw:a,likeVideo:[]});var s={loginSucceed:!1,currentUser:"",userList:e.userList};window.localStorage.setItem("userMsg",n()(s)),console.log(s)}},handleLogin:function(e,t){var i=t.name,a=t.psw,o=JSON.parse(window.localStorage.getItem("userMsg"));o.userList.map(function(t){t.psw===a&&t.name===i&&(e.loginSucceed=!0,e.currentUser=i,o.loginSucceed=!0,o.currentUser=e.currentUser,window.localStorage.setItem("userMsg",n()(o)))})},likeUp:function(e,t){var i=t.id,a=JSON.parse(window.localStorage.getItem("userMsg")),o=JSON.parse(window.localStorage.getItem("userMsg")).currentUser;a.userList.map(function(e){e.name===o&&e.likeVideo.push({id:i})}),window.localStorage.setItem("userMsg",n()(a)),e.videoLiked=!0},likeDown:function(e,t){var i=t.id,a=JSON.parse(window.localStorage.getItem("userMsg")),o=JSON.parse(window.localStorage.getItem("userMsg")).currentUser;a.userList.map(function(e){e.name===o&&e.likeVideo.splice(e.likeVideo.findIndex(function(e){return e.id===i}),1)}),window.localStorage.setItem("userMsg",n()(a)),e.videoLiked=!1},checkIfLiked:function(e,t){var i=t.id,a=JSON.parse(window.localStorage.getItem("userMsg")),o=JSON.parse(window.localStorage.getItem("userMsg")).currentUser;a.userList.map(function(t){t.name===o&&(t.likeVideo.findIndex(function(e){return e.id===i})>-1?e.videoLiked=!0:e.videoLiked=!1)}),window.localStorage.setItem("userMsg",n()(a))},logoutSucceed:function(e){e.loginSucceed=!1},hasLogined:function(e){e.loginSucceed=!0}}},fe=i("M4fF"),me={namespaced:!0,state:{videoSet:[],category:["全部"],videoSorted:[]},getters:{likevideos:function(e,t,i){return e.videoSorted},videoCatogery:function(e,t,i){return fe.uniq(e.category)}},actions:{fetchData:function(e,t){var i=e.commit;t.likeVideoObject.likeVideo.map(function(e){var t="http://baobab.wandoujia.com/api/v1/video/"+e.id;C.a.get(t).then(function(e){i("fetchDataSucceed",{res:e})})})},select:function(e,t){(0,e.commit)("selectCategory",{category:t.category})}},mutations:{fetchDataSucceed:function(e,t){var i=t.res.data;e.videoSet.push(i),e.videoSorted.push(i),e.category.push(i.category)},selectCategory:function(e,t){var i=t.category;if("全部"===i)e.videoSorted=e.videoSet;else{var a=[];e.videoSet.map(function(e){e.category===i&&a.push(e)}),e.videoSorted=a}}}},_e={namespaced:!0,state:{sResult:{},npu:""},getters:{searchResult:function(e,t,i){return e.sResult},nextPageUrl:function(e,t,i){return e.npu}},actions:{fetchData:function(e,t){var i=e.commit,a="http://baobab.kaiyanapp.com/api/v1/search?num=15&query="+t.q;C.a.get(a).then(function(e){i("fetchDataSucceed",{res:e})})},fetchNextPage:function(e,t){var i=e.commit,a=""+t.url;C.a.get(a).then(function(e){i("fetchNextPageSucceed",{res:e})})}},mutations:{fetchDataSucceed:function(e,t){var i=t.res.data;e.sResult=i,e.npu=i.nextPageUrl},fetchNextPageSucceed:function(e,t){var i=t.res.data;e.sResult=i,e.npu=i.nextPageUrl}}},Ce={namespaced:!0,state:{hv:[],npu:"",isLoading:!0},getters:{hotVideo:function(e,t,i){return e.hv},nextPageUrl:function(e,t,i){return e.npu},hotIsLoading:function(e,t,i){return e.isLoading}},actions:{fetchData:function(e){var t=e.commit;C.a.get("http://baobab.kaiyanapp.com/api/v4/discovery/hot").then(function(e){t("fetchDataSucceed",{res:e})})},fetchNextPage:function(e,t){var i=e.commit,a=""+t.url;C.a.get(a).then(function(e){i("fetchNextPageSucceed",{res:e})})}},mutations:{fetchDataSucceed:function(e,t){var i=t.res;e.isLoading=!1;var a=i.data;e.npu=a.nextPageUrl,a.itemList.map(function(t){"video"===t.type&&e.hv.push(t)})},fetchNextPageSucceed:function(e,t){var i=t.res;e.hv=[];var a=i.data;e.npu=a.nextPageUrl,setTimeout(function(){a.itemList.map(function(t){"video"===t.type&&e.hv.push(t)})},1e3)}}},ye={npu:"",page:[],isLoading:!0},we={namespaced:!0,state:ye,getters:{pages:function(e,t,i){return e.page},categoriesIsLoading:function(e,t,i){return e.isLoading}},actions:{fetchPageOne:function(e){var t=e.dispatch,i=e.commit;C.a.get("http://baobab.kaiyanapp.com/api/v4/discovery/category").then(function(e){i("handleFetchData",{res:e}),t("fetchPageTwo")})},fetchPageTwo:function(e){var t=e.dispatch,i=e.commit,a=""+ye.npu;C.a.get(a).then(function(e){i("handleFetchData",{res:e}),t("fetchPageThree")})},fetchPageThree:function(e){var t=e.dispatch,i=e.commit,a=""+ye.npu;C.a.get(a).then(function(e){i("handleFetchData",{res:e}),t("fetchPageFour")})},fetchPageFour:function(e){var t=e.commit,i=""+ye.npu;C.a.get(i).then(function(e){t("handleFetchData",{res:e})})}},mutations:{handleFetchData:function(e,t){var i=t.res;e.isLoading=!1;var a=i.data;e.npu=a.nextPageUrl;var o=Math.floor(255*Math.random()),n=Math.floor(255*Math.random()),s={styleObject:{color:"rgb("+o+","+Math.floor(255*Math.random())+","+n+")"}};a=de()({},a,s),e.page.push(a)}}};a.a.use(s.a);var Se=new s.a.Store({modules:{home:pe,videopage:he,userdatabase:ge,userpage:me,search:_e,hot:Ce,category:we},strict:!1});a.a.use(re.a,C.a),a.a.config.productionTip=!1,new a.a({el:"#app",router:ne,store:Se,components:{App:h},template:"<App/>"})},UjVw:function(e,t){},Wnsj:function(e,t){},fpS1:function(e,t){},gWMx:function(e,t){},"k/jh":function(e,t){},lH4u:function(e,t){},mUbh:function(e,t){},pkad:function(e,t){},sgzY:function(e,t){},yGpH:function(e,t){}},[0]);
//# sourceMappingURL=app.f3593ddb91fce7108e80.js.map